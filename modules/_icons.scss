/*------------------------------------*\
  # INLINE SVG
\*------------------------------------*/

/* Function to make svg usable as css background including fixing '#' escape in url */
  
@function str-replace($string, $search, $replace: '') {
  $index: str-index($string, $search);

  @if $index {
    @return str-slice($string, 1, $index - 1)+$replace+str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
  }

  @return $string;
}

@function _buildIcon($icon) {
  $icon: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24">#{$icon}</svg>';
  @return $icon;
}

@function icon($icon-name, $color, $stroke-color: transparent, $stroke-width: 0, $css: '') {
  $color: str-replace("#{$color}", '#', '%23');
  $icons: (
    sales: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M4,24 L4,15.9428571 C4,13.4571429 6.295,10.5428571 9.185,10.5428571 L15.9,10.5428571 C18.62,10.5428571 21,13.3714286 21,15.8571429 C21,15.9428571 21,24 21,24 L4,24 Z M7.68333333,4.62857143 C7.68333333,2.05714286 9.78809524,0 12.4190476,0 C15.05,0 17.1547619,2.05714286 17.1547619,4.62857143 C17.1547619,7.11428571 15.05,9.17142857 12.4190476,9.17142857 C9.78809524,9.17142857 7.68333333,7.11428571 7.68333333,4.62857143 Z" id="Icon"/>',
    arrow-down-bold: '<polygon fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" id="Path" points="24 7.66197183 21.2869565 5 11.7913043 13.971831 2.8173913 5.09859155 0 7.66197183 11.6869565 19"></polygon>',
    arrow-down-small: '<polygon fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" transform="translate(12.000000, 12.500000) rotate(-270.000000) translate(-12.000000, -12.500000) " points="7.05328539 0.5 5.2173913 2.27495652 15.2128146 12.8130435 5.2173913 22.6217391 7.05328539 24.5 18.7826087 12.8130435"></polygon>',
    email: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M23,3.51428571 L11.9147287,13.8 L1,3.51428571 L23,3.51428571 Z M16.7247387,12.2284264 L16.5574913,11.97781 L24,4.54285714 L24,18.5773749 C24,19.9139956 22.912892,21 21.5749129,21 L2.42508711,21 C1.08710801,21 0,19.9139956 0,18.5773749 L0,4.62639594 L7.27526132,11.8942712 L7.10801394,12.1448876 L4.01393728,16.9901378 L8.52961672,13.5650471 L8.7804878,13.3979695 L11.9581882,16.5724438 L15.1358885,13.3979695 L15.3867596,13.5650471 L19.902439,16.9901378 L16.7247387,12.2284264 Z M23,3 L1,3 L22.9150579,3 L23,3 Z M22,20.9846734 C23.1034483,20.9846734 24,20.0693765 24,18.9428571 C24,19.0132646 24,19.0836721 24,19.0836721 C24,20.2805988 22.6896552,21.1254883 22,20.9846734 Z M0,18.9428571 C0,20.0761826 0.896551724,20.9970095 2,20.9970095 L1.86206897,20.9970095 C0.551724138,21.0678424 0,19.8636841 0,19.1553557 L0,18.9428571 Z" id="Icon"></path>',
    catalogue: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M7.90625,5 C9.16666667,5 10.3125,5.53571429 11,5.96428571 L11,19.6785714 C10.3125,19.4642857 9.05208333,18.9285714 7.90625,18.9285714 C5.38541667,18.9285714 6.1875,20 0,20 L0,6.5 C0,6.5 0.916666667,6.71428571 3.32291667,6.17857143 C6.30208333,5.42857143 6.41666667,5 7.90625,5 Z M20.7647059,6.18705036 C23.1372549,6.72661871 23.8921569,6.51079137 24,6.51079137 L24,20 C17.9607843,20 17.745098,19.028777 15.8039216,19.028777 C14.7254902,19.028777 13.6470588,19.4604317 13,19.7841727 L13,6.07913669 C13.6470588,5.64748201 14.7254902,5.10791367 16.0196078,5 L16.0196078,11.2589928 L17.5294118,9.64028777 L19.0392157,11.2589928 L19.0392157,5.64748201 C19.5784314,5.86330935 20.1176471,6.07913669 20.7647059,6.18705036 Z" id="Icon"></path>',
    country: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M12.8208469,7.78378378 C14.228013,7.7027027 15.6351792,7.37837838 16.9641694,6.89189189 C17.276873,8.43243243 17.5114007,10.0540541 17.5114007,11.7567568 L12.8208469,11.7567568 L12.8208469,7.78378378 Z M12.8208469,18 C12.8208469,18 12.8208469,13.3783784 12.8208469,13.3783784 L17.5114007,13.3783784 C17.4332248,15.3243243 17.0423453,17.1081081 16.5732899,18.6486486 C15.3224756,18.2432432 14.0716612,18.0810811 12.8208469,18 Z M17.980456,4.78378378 C17.276873,2.67567568 16.3387622,1.05405405 15.1661238,0 C17.1986971,0.567567568 18.9967427,1.7027027 20.4820847,3.16216216 C19.7003257,3.81081081 18.8403909,4.37837838 17.980456,4.78378378 Z M8.75570033,4.4408921e-16 C7.58306189,1.13513514 6.64495114,2.75675676 5.94136808,4.7027027 C5.08143322,4.2972973 4.29967427,3.72972973 3.51791531,3.16216216 C4.92508143,1.7027027 6.72312704,0.567567568 8.75570033,4.4408921e-16 Z M12.8208469,23.6756757 L12.8208469,19.6216216 C13.9153094,19.7027027 14.9315961,19.8648649 15.9478827,20.1891892 C15.0879479,22.0540541 13.9934853,23.2702703 12.8208469,23.6756757 Z M11.257329,7.78378378 L11.257329,11.8378378 L6.48859935,11.8378378 C6.48859935,10.0540541 6.72312704,8.43243243 7.03583062,6.97297297 C8.36482085,7.45945946 9.77198697,7.7027027 11.257329,7.78378378 Z M8.05211726,20.1891892 C9.06840391,19.8648649 10.0846906,19.7027027 11.257329,19.6216216 L11.257329,23.6756757 C10.0065147,23.2702703 8.91205212,22.0540541 8.05211726,20.1891892 Z M11.257329,13.3783784 L11.1791531,13.3783784 L11.1791531,18 C9.92833876,18.0810811 8.59934853,18.2432432 7.4267101,18.6486486 C6.95765472,17.1081081 6.56677524,15.3243243 6.48859935,13.3783784 L11.257329,13.3783784 Z M11.257329,0.324324324 L11.257329,6.08108108 C10.0065147,6 8.67752443,5.75675676 7.50488599,5.35135135 C8.36482085,2.67567568 9.69381107,0.810810811 11.257329,0.324324324 Z M16.495114,5.35135135 C15.3224756,5.75675676 14.0716612,6.08108108 12.742671,6.08108108 L12.742671,0.324324324 C14.3061889,0.891891892 15.6351792,2.75675676 16.495114,5.35135135 Z M15.1661238,24 C16.0260586,23.1891892 16.8078176,22.1351351 17.4332248,20.7567568 C18.1368078,21 18.8403909,21.4054054 19.465798,21.8108108 C18.2149837,22.7837838 16.7296417,23.5945946 15.1661238,24 Z M5.5504886,6.32432432 C5.15960912,7.94594595 4.92508143,9.81081081 4.84690554,11.7567568 L5.10702591e-14,11.7567568 C0.0781758958,9 0.938110749,6.48648649 2.50162866,4.37837838 C3.43973941,5.18918919 4.45602606,5.83783784 5.5504886,6.32432432 Z M19.0749186,11.7567568 C19.0749186,9.81081081 18.8403909,7.94594595 18.4495114,6.32432432 C19.5439739,5.83783784 20.5602606,5.10810811 21.4983713,4.37837838 C22.9837134,6.40540541 23.9218241,9 24,11.7567568 L19.0749186,11.7567568 Z M4.92508143,13.3783784 C5.00325733,15.5675676 5.39413681,17.5135135 6.01954397,19.2162162 C5.08143322,19.6216216 4.22149837,20.1081081 3.43973941,20.6756757 C1.56351792,18.7297297 0.390879479,16.2162162 0.0781758958,13.3783784 L4.92508143,13.3783784 Z M18.9967427,13.3783784 L24,13.3783784 C23.6872964,16.2162162 22.4364821,18.7297297 20.6384365,20.6756757 C19.7785016,20.1081081 18.9185668,19.6216216 17.980456,19.2162162 C18.5276873,17.5135135 18.9185668,15.4864865 18.9967427,13.3783784 Z M6.56677524,20.7567568 C7.19218241,22.1351351 7.89576547,23.1891892 8.75570033,24 C7.27035831,23.5945946 5.86319218,22.7837838 4.61237785,21.8108108 C5.23778502,21.4054054 5.86319218,21.0810811 6.56677524,20.7567568 Z" id="Icon"></path>',
    search: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M7.21228815,12.6368645 C6.00877725,11.4333536 5.50731438,10.1295501 5.50731438,8.42457631 C5.50731438,5.51609163 7.71375103,2.60760695 11.3242837,2.60760695 C14.7342313,2.60760695 17.1412531,4.71375103 17.1412531,8.42457631 C17.1412531,12.2356942 14.6339387,14.2415457 11.3242837,14.2415457 C9.61930996,14.2415457 8.41579905,13.8403754 7.21228815,12.6368645 M21.2532487,20.2591002 L17.7430085,14.2415457 C19.2473972,12.6368645 19.74886,10.9318907 19.74886,8.52486888 C19.6485675,3.51024013 16.0380348,0 11.3242837,0 C7.11199558,0 3,3.71082528 3,8.42457631 C3,10.8315981 3.70204803,12.737157 5.4070218,14.4421308 C7.11199558,16.1471046 9.51901738,16.8491526 11.3242837,16.74886 C12.3272095,16.74886 13.1295501,16.5482749 13.7313055,16.3476897 L17.0409605,22.3652442 C17.9435937,24.1705106 19.4479823,24.2708032 20.5512006,23.6690477 C21.3535412,23.2678774 22.4567596,22.2649517 21.2532487,20.2591002" id="Shape"></path>',
    cart: '<path fill="#{$color}" stroke="#{$stroke-color}" stroke-width="#{$stroke-width}" style="#{$css}" d="M3.5,24 C2.67157288,24 2,23.3284271 2,22.5 C2,21.6715729 2.67157288,21 3.5,21 C4.32842712,21 5,21.6715729 5,22.5 C5,23.3284271 4.32842712,24 3.5,24 Z M13.5,24 C12.6715729,24 12,23.3284271 12,22.5 C12,21.6715729 12.6715729,21 13.5,21 C14.3284271,21 15,21.6715729 15,22.5 C15,23.3284271 14.3284271,24 13.5,24 Z M5.41935484,4.42783505 L24,4.42783505 L22.3548387,12.7525773 C22.1612903,13.9278351 21.2903226,14.8092784 20.1290323,14.9072165 L6.58064516,16.3762887 C6.58064516,16.6701031 6.48387097,17.8453608 6.48387097,18.1391753 L14.516129,18.1391753 L14.516129,20 L4.16129032,20 L4.25806452,19.0206186 C4.5483871,16.4742268 4.5483871,15.4948454 4.5483871,13.0463918 C4.5483871,9.91237113 4.16129032,6.19072165 3.38709677,2.7628866 L0,2.7628866 L0,1 L4.74193548,1 C4.74193548,1 5.32258065,3.05670103 5.41935484,4.42783505 Z" id="Combined-Shape"></path>',
    );

  $icon: _buildIcon(map-get($icons, $icon-name));
  @return url('data:image/svg+xml;utf8,#{$icon}');
}

@function _buildSvg($svg) {
  $svg: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">#{$svg}</svg>';
  @return $svg;
}

@function svg($svg-name) {
  $color: str-replace('#', '%23');
  $svgs: (
    logo: '<polygon fill="#D20A28" points="28.5953177 6.5 35.1170569 6.5 35.1170569 0 28.5953177 0"></polygon> <polygon fill="#939597" points="60.7023411 0 60.7023411 24 65.9145243 24 65.9145243 14.4133084 78.5350404 14.4133084 78.5350404 9.61231025 65.9145243 9.61231025 65.9145243 4.80299439 80.7692308 4.80299439 80.7692308 0"></polygon> <polygonfill="#D20A28" points="50.1672241 6.5 56.6889632 6.5 56.6889632 0 50.1672241 0"></polygon> <path d="M40.0953401,0 L26.5886288,24 L33.0778173,24 L35.8951641,18.9471408 L48.4525093,18.9471408 L51.3078046,24 L57.6923077,24 L44.3216874,0 L40.0953401,0 Z M42.2260159,6.21900603 L46.6152799,14.1930547 L37.6656565,14.1930547 L42.2260159,6.21900603 Z" id="Fill-4" fill="#D20A28"></path> <polygon fill="#939597" points="107.859532 0 107.859532 24 126.923077 24 126.923077 18.9737575 113.199517 18.9737575 113.199517 0"></polygon> <polygon fill="#939597" points="19.5834414 0 19.5834414 9.23435226 6.00218261 9.23435226 6.00218261 0 0 0 0 24 6.00218261 24 6.00218261 14.5946351 19.5834414 14.5946351 19.5834414 24 25.5852843 24 25.5852843 0"></polygon> <polygon ill="#939597" points="84.2856599 0 84.2809365 24 104.343103 24 104.343103 18.9737575 89.5879163 18.9737575 89.5879163 14.4133084 102.069223 14.4133084 102.069223 9.61231025 89.5879163 9.61231025 89.5879163 4.80299439 104.347826 4.80033271 104.347511 0"></polygon> <polygon fill="#939597" points="129.93311 0 129.93311 24 150 24 150 18.9737575 135.24159 18.9737575 135.24159 14.4133084 147.726737 14.4133084 147.726737 9.61231025 135.24159 9.61231025 135.24159 4.80033271 150 4.80033271 150 0"></polygon>'
    );

  $svg: _buildIcon(map-get($svgs, $svg-name));
  @return url('data:image/svg+xml;utf8,#{$svg}');
}